'''
Author: chasey melancholycy@gmail.com
Date: 2025-02-19 12:08:11
FilePath: /mesh_planner/test/python/visKinPath.py
Description: 

Copyright (c) 2025 by chasey (melancholycy@gmail.com), All Rights Reserved. 
'''
import numpy as np
import matplotlib.pyplot as plt

# 定义点的数据
#NOTE: points1 ################################################
# points = [
#     (0.0, 0.0, 0.0),
#     (0.970294, 0.196686, 0.499995),
#     (1.62848, 0.556251, 0.49999),
#     (2.38571, 1.19404, 0.999985),
#     (2.79094, 1.82513, 0.99998),
#     (3.19618, 2.45623, 0.999975),
#     (3.73651, 3.29768, 0.99997),
#     (4.27684, 4.13914, 0.999965),
#     (4.81717, 4.98059, 0.99996),
#     (5.35751, 5.82204, 0.999955),
#     (5.89785, 6.66348, 0.99995),
#     (6.30311, 7.29456, 0.999945),
#     (6.84346, 8.136, 0.99994),
#     (7.53327, 8.84616, 0.499935),
#     (8.19148, 9.20569, 0.49993),
#     (9.06909, 9.68505, 0.499925),
#     (10.0149, 9.97755, -8e-05)
# ]

#NOTE: points2 ##############################################
# points = [
#     (0, 0, 0),
#     (0.5, -1e-06, -5e-06),
#     (1.5, -8e-06, -1e-05),
#     (2.5, -2e-05, -1.5e-05),
#     (3.5, -3.7e-05, -2e-05),
#     (3.5, -3.7e-05, 0.999975),
#     (4.04033, 0.841419, 0.99997),
#     (4.58065, 1.68287, 0.999965),
#     (5.12099, 2.52432, 0.99996),
#     (5.66133, 3.36577, 0.999955),
#     (6.20167, 4.20722, 0.99995),
#     (6.74201, 5.04866, 0.999945),
#     (7.28236, 5.8901, 0.99994),
#     (7.82272, 6.73154, 0.999935),
#     (8.36308, 7.57297, 0.99993),
#     (8.90344, 8.41441, 0.999925),
#     (9.44381, 9.25583, 0.99992),
#     (9.98418, 10.0973, 0.999915),
# ]

#NOTE: points3
points = [
    (0, 0, 0),
    (0.970294, 0.196686, 0.499995),
    (1.62848, 0.556251, 0.49999),
    (2.38571, 1.19404, 0.999985),
    (2.79094, 1.82513, 0.99998),
    (3.19618, 2.45623, 0.999975),
    (3.73651, 3.29768, 0.99997),
    (4.27684, 4.13914, 0.999965),
    (4.81717, 4.98059, 0.99996),
    (5.35751, 5.82204, 0.999955),
    (5.89785, 6.66348, 0.99995),
    (6.30311, 7.29456, 0.999945),
    (6.84346, 8.136, 0.99994),
    (7.53327, 8.84616, 0.499935),
    (8.19148, 9.20569, 0.49993),
    (9.06909, 9.68505, 0.499925),
    (10.0149, 9.97755, -8e-05)
]

# 提取 x, y 和 yaw
x = [p[0] for p in points]
y = [p[1] for p in points]
yaw = [p[2] for p in points]

# 可视化
plt.figure(figsize=(10, 8))
plt.plot(x, y, 'o-', label="Trajectory", markersize=6)  # 绘制轨迹

# 添加方向箭头
for i in range(len(points)):
    dx = np.cos(yaw[i]) * 0.5  # 箭头长度
    dy = np.sin(yaw[i]) * 0.5  # 箭头长度
    plt.arrow(x[i], y[i], dx, dy, head_width=0.2, head_length=0.4, fc='r', ec='r')

plt.title("Points with Direction Arrows")
plt.xlabel("X Position")
plt.ylabel("Y Position")
plt.legend()
plt.grid(True)
plt.axis('equal')  # 保持比例
plt.show()